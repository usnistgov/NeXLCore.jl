<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Mass Fraction Uncertainty · NeXLCore</title><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.045/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.24/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script><link rel="stylesheet" href="https://pages.nist.gov/nist-header-footer/css/nist-combined.css">
<script src="https://pages.nist.gov/nist-header-footer/js/jquery-1.9.0.min.js" type="text/javascript" defer="defer"></script>
<script src="https://pages.nist.gov/nist-header-footer/js/nist-header-footer.js" type="text/javascript" defer="defer"></script>
</head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../gettingstarted/"><img src="../assets/logo.png" alt="NeXLCore logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../gettingstarted/">NeXLCore</a></span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../gettingstarted/">Getting Started</a></li><li><a class="tocitem" href="../material/">Materials</a></li><li><a class="tocitem" href="../bremsstrahlung/">Bremsstrahlung</a></li><li class="is-active"><a class="tocitem" href>Mass Fraction Uncertainty</a></li><li><a class="tocitem" href="../eta/">Backscatter</a></li><li><a class="tocitem" href="../fluoryield/">Fluorescence Yield</a></li><li><a class="tocitem" href="../OByStoic/">O by Stoichiometry</a></li><li><a class="tocitem" href="../meanionizationpotential/">Mean Ionization Potential</a></li><li><a class="tocitem" href="../methods/">API: Structures and Methods</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Mass Fraction Uncertainty</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Mass Fraction Uncertainty</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/usnistgov/NeXLCore.jl/blob/master/docs/src/Au60Ag40unc.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h3 id="Computing-the-Composition-of-SRM-481"><a class="docs-heading-anchor" href="#Computing-the-Composition-of-SRM-481">Computing the Composition of SRM-481</a><a id="Computing-the-Composition-of-SRM-481-1"></a><a class="docs-heading-anchor-permalink" href="#Computing-the-Composition-of-SRM-481" title="Permalink"></a></h3><p>One of the Au-Ag wires is nominally 59.50±1.20% Au and 40.20±0.90% Ag according to the SRM certificate. We will use <code>NeXLUncertainties</code> and <code>NeXLCore</code> to compute various different representations of the composition (normalized, atom fraction, etc.)</p><pre><code class="language-julia hljs">using NeXLCore
using DataFrames</code></pre><p>Let&#39;s set up the <code>UncertainValues</code> object containing the input values which include the mass fractions of each element and the nominal atomic weight of each element with uncertainties.</p><pre><code class="language-julia hljs">mat = &quot;Au60Ag40&quot;
inplbls = [ MassFractionLabel(mat,n&quot;Ag&quot;), AtomicWeightLabel(mat,n&quot;Ag&quot;),
            MassFractionLabel(mat,n&quot;Au&quot;), AtomicWeightLabel(mat,n&quot;Au&quot;) ]
inpvals = [ 0.4020, 107.8682, 0.5950, 196.966570 ]
inpcovs = [ (0.0090)^2 0 0 0; 0 (0.0002)^2 0 0; 0 0 (0.0120)^2 0; 0 0 0 (0.000004)^2 ]
inputs = uvs(inplbls, inpvals, inpcovs)</code></pre><table><tr><th style="text-align: left">Label</th><th style="text-align: center">Value</th><th style="text-align: center"></th><th style="text-align: center">C[Ag,Au60Ag40]</th><th style="text-align: center">Az[Ag,Au60Ag40]</th><th style="text-align: center">C[Au,Au60Ag40]</th><th style="text-align: center">Az[Au,Au60Ag40]</th></tr><tr><td style="text-align: left">C[Ag,Au60Ag40]</td><td style="text-align: center">4.02e-01</td><td style="text-align: center"></td><td style="text-align: center">(9.00e-03)²</td><td style="text-align: center">0.00e+00</td><td style="text-align: center">0.00e+00</td><td style="text-align: center">0.00e+00</td></tr><tr><td style="text-align: left">Az[Ag,Au60Ag40]</td><td style="text-align: center">1.08e+02</td><td style="text-align: center">±</td><td style="text-align: center">0.00e+00</td><td style="text-align: center">(2.00e-04)²</td><td style="text-align: center">0.00e+00</td><td style="text-align: center">0.00e+00</td></tr><tr><td style="text-align: left">C[Au,Au60Ag40]</td><td style="text-align: center">5.95e-01</td><td style="text-align: center"></td><td style="text-align: center">0.00e+00</td><td style="text-align: center">0.00e+00</td><td style="text-align: center">(1.20e-02)²</td><td style="text-align: center">0.00e+00</td></tr><tr><td style="text-align: left">Az[Au,Au60Ag40]</td><td style="text-align: center">1.97e+02</td><td style="text-align: center"></td><td style="text-align: center">0.00e+00</td><td style="text-align: center">0.00e+00</td><td style="text-align: center">0.00e+00</td><td style="text-align: center">(4.00e-06)²</td></tr></table><p><code>mf2comp(...)</code> defined in <code>NeXLCore</code> takes the inputs and computes the atom fractions, normalized mass fractions, mean atomic number, and mean atomic weight while propagating uncertaities in the input variables into the output variables.  In both the case of the atom fraction and the normalized mass fraction, the normalization step introduces correlations between the output values.</p><pre><code class="language-julia hljs">afs = mf2comp( mat, inputs)</code></pre><table><tr><th style="text-align: left">Label</th><th style="text-align: center">Value</th><th style="text-align: center"></th><th style="text-align: center">C[Ag,Au60Ag40]</th><th style="text-align: center">Az[Ag,Au60Ag40]</th><th style="text-align: center">C[Au,Au60Ag40]</th><th style="text-align: center">Az[Au,Au60Ag40]</th><th style="text-align: center">A[Ag,Au60Ag40]</th><th style="text-align: center">A[Au,Au60Ag40]</th><th style="text-align: center">N[Ag,Au60Ag40]</th><th style="text-align: center">N[Au,Au60Ag40]</th><th style="text-align: center">MeanZ[Au60Ag40]</th><th style="text-align: center">MeanAz[Au60Ag40]</th><th style="text-align: center">Σ[Au60Ag40]</th></tr><tr><td style="text-align: left">C[Ag,Au60Ag40]</td><td style="text-align: center">4.02e-01</td><td style="text-align: center"></td><td style="text-align: center">(9.00e-03)²</td><td style="text-align: center">0.00e+00</td><td style="text-align: center">0.00e+00</td><td style="text-align: center">0.00e+00</td><td style="text-align: center">4.98e-05</td><td style="text-align: center">-4.98e-05</td><td style="text-align: center">4.85e-05</td><td style="text-align: center">-4.85e-05</td><td style="text-align: center">3.81e-03</td><td style="text-align: center">8.74e-03</td><td style="text-align: center">8.10e-05</td></tr><tr><td style="text-align: left">Az[Ag,Au60Ag40]</td><td style="text-align: center">1.08e+02</td><td style="text-align: center"></td><td style="text-align: center">0.00e+00</td><td style="text-align: center">(2.00e-04)²</td><td style="text-align: center">0.00e+00</td><td style="text-align: center">0.00e+00</td><td style="text-align: center">-9.17e-11</td><td style="text-align: center">9.17e-11</td><td style="text-align: center">0.00e+00</td><td style="text-align: center">0.00e+00</td><td style="text-align: center">0.00e+00</td><td style="text-align: center">1.61e-08</td><td style="text-align: center">0.00e+00</td></tr><tr><td style="text-align: left">C[Au,Au60Ag40]</td><td style="text-align: center">5.95e-01</td><td style="text-align: center"></td><td style="text-align: center">0.00e+00</td><td style="text-align: center">0.00e+00</td><td style="text-align: center">(1.20e-02)²</td><td style="text-align: center">0.00e+00</td><td style="text-align: center">-5.98e-05</td><td style="text-align: center">5.98e-05</td><td style="text-align: center">-5.82e-05</td><td style="text-align: center">5.82e-05</td><td style="text-align: center">1.14e-02</td><td style="text-align: center">2.84e-02</td><td style="text-align: center">1.44e-04</td></tr><tr><td style="text-align: left">Az[Au,Au60Ag40]</td><td style="text-align: center">1.97e+02</td><td style="text-align: center"></td><td style="text-align: center">0.00e+00</td><td style="text-align: center">0.00e+00</td><td style="text-align: center">0.00e+00</td><td style="text-align: center">(4.00e-06)²</td><td style="text-align: center">2.01e-14</td><td style="text-align: center">-2.01e-14</td><td style="text-align: center">0.00e+00</td><td style="text-align: center">0.00e+00</td><td style="text-align: center">0.00e+00</td><td style="text-align: center">9.52e-12</td><td style="text-align: center">0.00e+00</td></tr><tr><td style="text-align: left">A[Ag,Au60Ag40]</td><td style="text-align: center">5.52e-01</td><td style="text-align: center"></td><td style="text-align: center">4.98e-05</td><td style="text-align: center">-9.17e-11</td><td style="text-align: center">-5.98e-05</td><td style="text-align: center">2.01e-14</td><td style="text-align: center">(7.45e-03)²</td><td style="text-align: center">-5.55e-05</td><td style="text-align: center">5.40e-05</td><td style="text-align: center">-5.40e-05</td><td style="text-align: center">-2.39e-03</td><td style="text-align: center">-6.41e-03</td><td style="text-align: center">-1.00e-05</td></tr><tr><td style="text-align: left">A[Au,Au60Ag40]</td><td style="text-align: center">4.48e-01</td><td style="text-align: center">±</td><td style="text-align: center">-4.98e-05</td><td style="text-align: center">9.17e-11</td><td style="text-align: center">5.98e-05</td><td style="text-align: center">-2.01e-14</td><td style="text-align: center">-5.55e-05</td><td style="text-align: center">(7.45e-03)²</td><td style="text-align: center">-5.40e-05</td><td style="text-align: center">5.40e-05</td><td style="text-align: center">2.39e-03</td><td style="text-align: center">6.41e-03</td><td style="text-align: center">1.00e-05</td></tr><tr><td style="text-align: left">N[Ag,Au60Ag40]</td><td style="text-align: center">4.03e-01</td><td style="text-align: center"></td><td style="text-align: center">4.85e-05</td><td style="text-align: center">0.00e+00</td><td style="text-align: center">-5.82e-05</td><td style="text-align: center">0.00e+00</td><td style="text-align: center">5.40e-05</td><td style="text-align: center">-5.40e-05</td><td style="text-align: center">(7.25e-03)²</td><td style="text-align: center">-5.26e-05</td><td style="text-align: center">-2.32e-03</td><td style="text-align: center">-6.24e-03</td><td style="text-align: center">-9.75e-06</td></tr><tr><td style="text-align: left">N[Au,Au60Ag40]</td><td style="text-align: center">5.97e-01</td><td style="text-align: center"></td><td style="text-align: center">-4.85e-05</td><td style="text-align: center">0.00e+00</td><td style="text-align: center">5.82e-05</td><td style="text-align: center">0.00e+00</td><td style="text-align: center">-5.40e-05</td><td style="text-align: center">5.40e-05</td><td style="text-align: center">-5.26e-05</td><td style="text-align: center">(7.25e-03)²</td><td style="text-align: center">2.32e-03</td><td style="text-align: center">6.24e-03</td><td style="text-align: center">9.75e-06</td></tr><tr><td style="text-align: left">MeanZ[Au60Ag40]</td><td style="text-align: center">6.59e+01</td><td style="text-align: center"></td><td style="text-align: center">3.81e-03</td><td style="text-align: center">0.00e+00</td><td style="text-align: center">1.14e-02</td><td style="text-align: center">0.00e+00</td><td style="text-align: center">-2.39e-03</td><td style="text-align: center">2.39e-03</td><td style="text-align: center">-2.32e-03</td><td style="text-align: center">2.32e-03</td><td style="text-align: center">(1.04e+00)²</td><td style="text-align: center">2.65e+00</td><td style="text-align: center">1.52e-02</td></tr><tr><td style="text-align: left">MeanAz[Au60Ag40]</td><td style="text-align: center">1.61e+02</td><td style="text-align: center"></td><td style="text-align: center">8.74e-03</td><td style="text-align: center">1.61e-08</td><td style="text-align: center">2.84e-02</td><td style="text-align: center">9.52e-12</td><td style="text-align: center">-6.41e-03</td><td style="text-align: center">6.41e-03</td><td style="text-align: center">-6.24e-03</td><td style="text-align: center">6.24e-03</td><td style="text-align: center">2.65e+00</td><td style="text-align: center">(2.56e+00)²</td><td style="text-align: center">3.71e-02</td></tr><tr><td style="text-align: left">Σ[Au60Ag40]</td><td style="text-align: center">9.97e-01</td><td style="text-align: center"></td><td style="text-align: center">8.10e-05</td><td style="text-align: center">0.00e+00</td><td style="text-align: center">1.44e-04</td><td style="text-align: center">0.00e+00</td><td style="text-align: center">-1.00e-05</td><td style="text-align: center">1.00e-05</td><td style="text-align: center">-9.75e-06</td><td style="text-align: center">9.75e-06</td><td style="text-align: center">1.52e-02</td><td style="text-align: center">3.71e-02</td><td style="text-align: center">(1.50e-02)²</td></tr></table><p>The data can also be output as a DataFrame to simplify presentation and exporting to CSV files.</p><pre><code class="language-julia hljs">asa(DataFrame,afs)</code></pre><pre><code class="nohighlight hljs">11×13 DataFrame
 Row │ Variable          Values      C[Ag,Au60Ag40]  Az[Ag,Au60Ag40]  C[Au,
Au60Ag40]  Az[Au,Au60Ag40]  A[Ag,Au60Ag40]  A[Au,Au60Ag40]  N[Ag,Au60Ag40] 
 N[Au,Au ⋯
     │ String            Float64     Float64         Float64          Float
64         Float64          Float64         Float64         Float64        
 Float64 ⋯
─────┼─────────────────────────────────────────────────────────────────────
───────────────────────────────────────────────────────────────────────────
──────────
   1 │ C[Ag,Au60Ag40]      0.402         8.1e-5           0.0             0
.0             0.0             4.98218e-5     -4.98218e-5       4.84855e-5 
    -4.8 ⋯
   2 │ Az[Ag,Au60Ag40]   107.868         0.0              4.0e-8          0
.0             0.0            -9.1691e-11      9.1691e-11       0.0        
     0.0
   3 │ C[Au,Au60Ag40]      0.595         0.0              0.0             0
.000144        0.0            -5.98419e-5      5.98419e-5      -5.82369e-5 
     5.8
   4 │ Az[Au,Au60Ag40]   196.967         0.0              0.0             0
.0             1.6e-11         2.00857e-14    -2.00857e-14      0.0        
     0.0
   5 │ A[Ag,Au60Ag40]      0.552312      4.98218e-5      -9.1691e-11     -5
.98419e-5      2.00857e-14     5.5513e-5      -5.5513e-5        5.40241e-5 
    -5.4 ⋯
   6 │ A[Au,Au60Ag40]      0.447688     -4.98218e-5       9.1691e-11      5
.98419e-5     -2.00857e-14    -5.5513e-5       5.5513e-5       -5.40241e-5 
     5.4
   7 │ N[Ag,Au60Ag40]      0.40321       4.84855e-5       0.0            -5
.82369e-5      0.0             5.40241e-5     -5.40241e-5       5.25751e-5 
    -5.2
   8 │ N[Au,Au60Ag40]      0.59679      -4.84855e-5       0.0             5
.82369e-5      0.0            -5.40241e-5      5.40241e-5      -5.25751e-5 
     5.2
   9 │ MeanZ[Au60Ag40]    65.899         0.003807         0.0             0
.011376        0.0            -0.00238589      0.00238589      -0.0023219  
     0.0 ⋯
  10 │ MeanAz[Au60Ag40]  160.558         0.00873732       1.608e-8        0
.0283632       9.52e-12       -0.00641268      0.00641268      -0.00624068 
     0.0
  11 │ Σ[Au60Ag40]         0.997         8.1e-5           0.0             0
.000144        0.0            -1.00202e-5      1.00202e-5      -9.75142e-6 
     9.7
                                                                           
                                                                    4 colum
ns omitted</code></pre><p>To access a single value, you can use bracket notation and the label associated with the desired parameter.</p><pre><code class="language-julia hljs">afs[MeanAz(mat)], afs[AtomicFractionLabel(mat,n&quot;Au&quot;)], afs[NormMassFractionLabel(mat,n&quot;Au&quot;)]</code></pre><pre><code class="nohighlight hljs">(161 ± 3, 0.4477 ± 0.0075, 0.5968 ± 0.0073)</code></pre><p>Or you can iterate over all the labels.  Note this style of presentation is suitable if these numbers are to be reported as the final value in a calculation.  The full values+covariance matrix representation is required if the values will be used in subsequent calculations.</p><pre><code class="language-julia hljs">map(lbl-&gt;(lbl =&gt; afs[lbl]),labels(afs))</code></pre><pre><code class="nohighlight hljs">11-element Vector{Pair{A, UncertainValue} where A}:
   C[Ag,Au60Ag40] =&gt; 0.4020 ± 0.0090
  Az[Ag,Au60Ag40] =&gt; 107.8682 ± 0.0002
   C[Au,Au60Ag40] =&gt; 0.595 ± 0.012
  Az[Au,Au60Ag40] =&gt; 196.9666 ± 0.0000
   A[Ag,Au60Ag40] =&gt; 0.5523 ± 0.0075
   A[Au,Au60Ag40] =&gt; 0.4477 ± 0.0075
   N[Ag,Au60Ag40] =&gt; 0.4032 ± 0.0073
   N[Au,Au60Ag40] =&gt; 0.5968 ± 0.0073
  MeanZ[Au60Ag40] =&gt; 66 ± 1
 MeanAz[Au60Ag40] =&gt; 161 ± 3
      Σ[Au60Ag40] =&gt; 0.997 ± 0.015</code></pre><p>Let&#39;s time this...</p><pre><code class="language-julia hljs">using BenchmarkTools
@btime mf2comp( mat, inputs);</code></pre><pre><code class="nohighlight hljs">68.400 μs (826 allocations: 100.61 KiB)</code></pre><p>Not too shabby!?</p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../bremsstrahlung/">« Bremsstrahlung</a><a class="docs-footer-nextpage" href="../eta/">Backscatter »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.24 on <span class="colophon-date" title="Monday 26 June 2023 15:07">Monday 26 June 2023</span>. Using Julia version 1.9.1.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
